webpackJsonp([10],{RPpC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("+6Bu"),n=a.n(r),s={name:"brand-form",props:{oldBrand:{type:Object},isEdit:{type:Boolean,default:!1}},data:function(){return{valid:!1,brand:{name:"",letter:"",image:"",categories:[]},nameRules:[function(e){return!!e||"行业名称不能为空"},function(e){return null!=e&&e.length>1||"行业名称至少2位"}],letterRules:[function(e){return!!e||"首字母不能为空"},function(e){return/^[a-zA-Z]{1}$/.test(e)||"行业字母只能是1个字母"}]}},methods:{submit:function(){var e=this;if(this.$refs.myBrandForm.validate()){var t=this.brand,a=t.name,r=t.letter,s=n()(t,["name","letter"]);s.name=a,s.initials=r.toUpperCase(),s.logo="",this.isEdit?this.$http({method:"put",url:"/brands/"+this.oldBrand.id,data:this.$qs.stringify(s)}).then(function(){e.$emit("close"),e.$message.success("保存成功！")}).catch(function(t){console.log(t),e.$message.error("保存失败！")}):this.$http({method:"post",url:"/brands",data:this.$qs.stringify(s)}).then(function(){e.clear(),e.$emit("close"),e.$message.success("保存成功！")}).catch(function(){e.$message.error("保存失败！")})}},clear:function(){this.$refs.myBrandForm.reset(),this.categories=[]}},watch:{oldBrand:{handler:function(e){null!=e?(this.brand.name=e.name,this.brand.letter=e.initials):this.brand={name:"",letter:"",image:"",categories:[]}},deep:!0}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"myBrandForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{label:"请输入行业名称",required:"",rules:e.nameRules},model:{value:e.brand.name,callback:function(t){e.$set(e.brand,"name",t)},expression:"brand.name"}}),e._v(" "),a("v-text-field",{attrs:{label:"请输入行业首字母",required:"",rules:e.letterRules},model:{value:e.brand.letter,callback:function(t){e.$set(e.brand,"letter",t)},expression:"brand.letter"}}),e._v(" "),a("v-cascader",{attrs:{url:"/item/category/list",multiple:"",required:"",label:"请选择商机分类"},model:{value:e.brand.categories,callback:function(t){e.$set(e.brand,"categories",t)},expression:"brand.categories"}}),e._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("span",{staticStyle:{"font-size":"16px",color:"#444"}},[e._v("行业标识LOGO：")])]),e._v(" "),a("v-flex",[a("v-upload",{attrs:{url:"/upload/image",multiple:!1,"pic-width":250,"pic-height":90},model:{value:e.brand.image,callback:function(t){e.$set(e.brand,"image",t)},expression:"brand.image"}})],1)],1),e._v(" "),a("v-layout",{staticClass:"my-4",attrs:{row:""}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("提交")]),e._v(" "),a("v-btn",{on:{click:e.clear}},[e._v("重置")])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(s,i,!1,function(e){a("XAFM")},"data-v-7c7aeb98",null);t.default=l.exports},XAFM:function(e,t){}});
//# sourceMappingURL=10.8690fa24ce86c501e847.js.map