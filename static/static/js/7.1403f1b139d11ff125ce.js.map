{"version":3,"sources":["webpack:///src/pages/item/BrandForm.vue","webpack:///./src/pages/item/BrandForm.vue?b378","webpack:///./src/pages/item/BrandForm.vue","webpack:///src/pages/item/Brand.vue","webpack:///./src/pages/item/Brand.vue?678a","webpack:///./src/pages/item/Brand.vue"],"names":["BrandForm","Object","Boolean","v","_this","this","_brand","brand","name","toUpperCase","id","params","then","catch","error","clear","reset","initials","item_BrandForm","render","_vm","_h","$createElement","_c","_self","ref","model","value","callback","$$v","valid","expression","attrs","label","required","rules","nameRules","$set","_v","letterRules","url","multiple","row","xs3","staticStyle","font-size","color","pic-width","pic-height","staticClass","on","click","submit","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","Brand","text","align","sortable","getDataFromServer","$http","get","resp","data","_this2","_this3","_ref","oldBrand","_this4","item_Brand","addBrand","append-icon","hide-details","selectById","search","headers","items","brands","pagination","total-items","totalBrands","loading","update:pagination","$event","scopedSlots","_u","key","fn","props","_s","item","src","image","width","height","icon","editBrand","deleteBrand","max-width","persistent","scrollable","show","dense","dark","isEdit","closeWindow","close"],"mappings":"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","file":"static/js/7.1403f1b139d11ff125ce.js","sourcesContent":["<template>\n  <v-form v-model=\"valid\" ref=\"myBrandForm\">\n    <v-text-field v-model=\"brand.name\" label=\"请输入行业名称\" required :rules=\"nameRules\" />\n    <v-text-field v-model=\"brand.letter\" label=\"请输入行业首字母\" required :rules=\"letterRules\" />\n    <v-cascader url=\"/item/category/list\" multiple required v-model=\"brand.categories\" label=\"请选择商机分类\" />\n    <v-layout row>\n      <v-flex xs3>\n        <span style=\"font-size: 16px; color: #444\">行业标识LOGO：</span>\n      </v-flex>\n      <v-flex>\n        <v-upload v-model=\"brand.image\" url=\"/upload/image\" :multiple=\"false\" :pic-width=\"250\" :pic-height=\"90\" />\n      </v-flex>\n    </v-layout>\n    <v-layout class=\"my-4\" row>\n      <v-spacer/>\n      <v-btn @click=\"submit\" color=\"primary\">提交</v-btn>\n      <v-btn @click=\"clear\">重置</v-btn>\n    </v-layout>\n  </v-form>\n</template>\n\n<script>\nexport default {\n  name: \"brand-form\",\n  props: {\n    oldBrand: {\n      type: Object\n    },\n    isEdit: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      valid: false, // 表单校验结果标记\n      brand: {\n        name: \"\", // 行业名称\n        letter: \"\", // 行业首字母\n        image: \"\", // 行业标志logo\n        categories: [] // 行业所属的商品分类数组\n      },\n      nameRules: [\n        v => !!v || \"行业名称不能为空\",\n        v => v!=null && v.length > 1 || \"行业名称至少2位\"\n      ],\n      letterRules: [\n        v => !!v || \"首字母不能为空\",\n        v => /^[a-zA-Z]{1}$/.test(v) || \"行业字母只能是1个字母\"\n      ]\n    };\n  },\n  methods: {\n    submit() {\n      // 表单校验\n      if (this.$refs.myBrandForm.validate()) {\n        // 定义一个请求参数对象，通过解构表达式来获取brand中的属性\n        const { name, letter, ...params } = this.brand;\n        // 数据库中只要保存分类的id即可，因此我们对categories的值进行处理,只保留id，并转为字符串\n        //params.cids = categories.map(c => c.id).join(\",\");\n        params.name = name;\n        // 将字母都处理为大写\n        params.initials = letter.toUpperCase();\n        params.logo = \"\";\n        \n        // 将数据提交到后台\n        // this.$http.post('/item/brand', this.$qs.stringify(params))\n        if (!this.isEdit) {\n          this.$http({\n            method: \"post\",\n            url: \"/brands\",\n            data: this.$qs.stringify(params)\n          })\n            .then(() => {\n              // 关闭窗口\n              this.clear();\n              this.$emit(\"close\");\n              this.$message.success(\"保存成功！\");\n            })\n            .catch(() => {\n              this.$message.error(\"保存失败！\");\n            });\n        }else{\n          this.$http({\n            method: 'put',\n            url: '/brands/'+this.oldBrand.id,\n            data: this.$qs.stringify(params)\n          }).then(() => {\n            // 关闭窗口\n            this.$emit(\"close\");\n            this.$message.success(\"保存成功！\");\n          })\n            .catch((error) => {\n              console.log(error)\n              this.$message.error(\"保存失败！\");\n            });\n        }\n      }\n    },\n    clear() {\n      // 重置表单\n      this.$refs.myBrandForm.reset();\n      // 需要手动清空商机分类\n      this.categories = [];\n    }\n  },\n  watch: {\n    oldBrand: {\n      // 监控oldBrand的变化\n      handler(val) {\n        \n        if (val!=null) {\n          // 注意不要直接复制，否则这边的修改会影响到父组件的数据，copy属性即可\n          // this.brand = Object.deepCopy(val)\n          this.brand.name = val.name;\n          this.brand.letter = val.initials;\n        } else {\n          // 为空，初始化brand\n          this.brand = {\n            name: \"\",\n            letter: \"\",\n            image: \"\",\n            categories: []\n          };\n        }\n      },\n      deep: true\n    }\n  }\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/item/BrandForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{ref:\"myBrandForm\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"label\":\"请输入行业名称\",\"required\":\"\",\"rules\":_vm.nameRules},model:{value:(_vm.brand.name),callback:function ($$v) {_vm.$set(_vm.brand, \"name\", $$v)},expression:\"brand.name\"}}),_vm._v(\" \"),_c('v-text-field',{attrs:{\"label\":\"请输入行业首字母\",\"required\":\"\",\"rules\":_vm.letterRules},model:{value:(_vm.brand.letter),callback:function ($$v) {_vm.$set(_vm.brand, \"letter\", $$v)},expression:\"brand.letter\"}}),_vm._v(\" \"),_c('v-cascader',{attrs:{\"url\":\"/item/category/list\",\"multiple\":\"\",\"required\":\"\",\"label\":\"请选择商机分类\"},model:{value:(_vm.brand.categories),callback:function ($$v) {_vm.$set(_vm.brand, \"categories\", $$v)},expression:\"brand.categories\"}}),_vm._v(\" \"),_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('span',{staticStyle:{\"font-size\":\"16px\",\"color\":\"#444\"}},[_vm._v(\"行业标识LOGO：\")])]),_vm._v(\" \"),_c('v-flex',[_c('v-upload',{attrs:{\"url\":\"/upload/image\",\"multiple\":false,\"pic-width\":250,\"pic-height\":90},model:{value:(_vm.brand.image),callback:function ($$v) {_vm.$set(_vm.brand, \"image\", $$v)},expression:\"brand.image\"}})],1)],1),_vm._v(\" \"),_c('v-layout',{staticClass:\"my-4\",attrs:{\"row\":\"\"}},[_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('v-btn',{on:{\"click\":_vm.clear}},[_vm._v(\"重置\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c7aeb98\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/item/BrandForm.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c7aeb98\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BrandForm.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BrandForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BrandForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c7aeb98\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BrandForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c7aeb98\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/item/BrandForm.vue\n// module id = null\n// module chunks = ","<template>\n  <v-card>\n    <v-card-title>\n      <v-btn color=\"primary\" @click=\"addBrand\">新增行业</v-btn>\n      <!--搜索框，与search属性关联-->\n      <v-spacer/>\n      <v-flex xs3>\n        <v-text-field label=\"输入关键字搜索\" v-model.lazy=\"search\" @click=\"selectById\" append-icon=\"search\" hide-details/>\n      </v-flex>\n    </v-card-title>\n    <v-divider/>\n    <v-data-table :headers=\"headers\" :items=\"brands\" :pagination.sync=\"pagination\" :total-items=\"totalBrands\" :loading=\"loading\" class=\"elevation-1\">\n      <template slot=\"items\" slot-scope=\"props\">\n        <td class=\"text-xs-center\">{{ props.item.id }}</td>\n        <td class=\"text-xs-center\">{{ props.item.name }}</td>\n        <td class=\"text-xs-center\">\n          <img v-if=\"props.item.image\" :src=\"props.item.image\" width=\"130\" height=\"40\">\n          <span v-else>无</span>\n        </td>\n        <td class=\"text-xs-center\">{{ props.item.initials }}</td>\n        <td class=\"justify-center layout px-0\">\n          <v-btn icon @click=\"editBrand(props.item)\">\n            <i class=\"el-icon-edit\" />\n          </v-btn>\n          <v-btn icon @click=\"deleteBrand(props.item)\">\n            <i class=\"el-icon-delete\" />\n          </v-btn>\n        </td>\n      </template>\n    </v-data-table>\n    <!--弹出的对话框-->\n    <v-dialog max-width=\"500\" v-model=\"show\" persistent scrollable>\n      <v-card>\n        <!--对话框的标题-->\n        <v-toolbar dense dark color=\"primary\">\n          <v-toolbar-title>{{isEdit ? '修改' : '新增'}}行业</v-toolbar-title>\n          <v-spacer/>\n          <!--关闭窗口的按钮-->\n          <v-btn icon @click=\"closeWindow\">\n            <v-icon>close</v-icon>\n          </v-btn>\n        </v-toolbar>\n        <!--对话框的内容，表单-->\n        <v-card-text class=\"px-5\" style=\"height:400px\">\n          <brand-form @close=\"closeWindow\" :oldBrand=\"oldBrand\" :isEdit=\"isEdit\" />\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-card>\n</template>\n\n<script>\n// 导入自定义的表单组件\nimport BrandForm from \"./BrandForm\";\n\nexport default {\n  name: \"brand\",\n  data() {\n    return {\n      search: \"\", // 搜索过滤字段\n      totalBrands: 0, // 总条数\n      brands: [], // 当前页行业数据\n      loading: true, // 是否在加载中\n      pagination: {}, // 分页信息\n      headers: [\n        { text: \"id\", align: \"center\", value: \"id\" },\n        { text: \"名称\", align: \"center\", sortable: false, value: \"name\" },\n        { text: \"LOGO\", align: \"center\", sortable: false, value: \"image\" },\n        { text: \"首字母\", align: \"center\", value: \"letter\", sortable: true },\n        { text: \"操作\", align: \"center\", value: \"id\", sortable: false }\n      ],\n      show: false, // 控制对话框的显示\n      oldBrand: {}, // 即将被编辑的品牌数据\n      isEdit: false // 是否是编辑\n    };\n  },\n  mounted() {\n    // 渲染后执行\n    // 查询数据\n    this.getDataFromServer();\n  },\n  /* watch: {\n      pagination: { // 监视pagination属性的变化\n        deep: true, // deep为true，会监视pagination的属性及属性中的对象属性变化\n        handler() {\n          // 变化后的回调函数，这里我们再次调用getDataFromServer即可\n          this.getDataFromServer();\n        }\n      },\n      search: { // 监视搜索字段\n        handler() {\n          this.$http.get(\"/brands/\"+this.search).then((response)=>{\n            this.brands = [];\n          \n        })\n        }\n      }\n    }, */\n  methods: {\n    getDataFromServer() {\n      // 从服务的加载数的方法。\n      // 发起请求\n      this.$http\n        .get(\"/brands\", {\n          params: {\n            //key: this.search, // 搜索条件\n            //page: this.pagination.page,// 当前页\n            //rows: this.pagination.rowsPerPage,// 每页大小\n            //sortBy: this.pagination.sortBy,// 排序字段\n            //desc: this.pagination.descending// 是否降序\n          }\n        })\n        .then(resp => {\n          // 这里使用箭头函数\n          this.brands = resp.data;\n          //this.totalBrands = resp.data.total;\n          // 完成赋值后，把加载状态赋值为false\n          this.loading = false;\n        });\n    },\n    selectById() {\n      this.$http.get(\"/brands/\" + this.search).then(response => {\n        this.brands = response.data;\n        console.log(2);\n      });\n    },\n    addBrand() {\n      // 修改标记\n      this.isEdit = false;\n      // 控制弹窗可见：\n      this.show = true;\n      // 把oldBrand变为null\n      this.oldBrand = null;\n    },\n    editBrand(oldBrand) {\n      // 根据行业信息查询商机分类\n      this.$http.get(\"/brands/\" + oldBrand.id).then(({ data }) => {\n        // 修改标记\n        this.isEdit = true;\n        // 控制弹窗可见：\n        this.show = true;\n        // 获取要编辑的brand\n        this.oldBrand = oldBrand;\n\n        // 回显商机分类\n      });\n    },\n    deleteBrand(oldBrand) {\n      this.$http({\n        url: \"/brands/\" + oldBrand.id,\n        method: \"delete\"\n      }).then(resp => {\n        if (resp.status == 200) {\n          this.getDataFromServer();\n          this.$message.success(\"删除  \"+oldBrand.name+\"  成功！\");\n        }else{\n          this.$message.error(\"删除失败！\");\n        }\n      });\n    },\n    closeWindow() {\n      // 重新加载数据\n      this.getDataFromServer();\n      // 关闭窗口\n      this.show = false;\n    }\n  },\n  components: {\n    BrandForm\n  }\n};\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/item/Brand.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-title',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.addBrand}},[_vm._v(\"新增行业\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-flex',{attrs:{\"xs3\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"输入关键字搜索\",\"append-icon\":\"search\",\"hide-details\":\"\"},on:{\"click\":_vm.selectById},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.brands,\"pagination\":_vm.pagination,\"total-items\":_vm.totalBrands,\"loading\":_vm.loading},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.id))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.name))]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-center\"},[(props.item.image)?_c('img',{attrs:{\"src\":props.item.image,\"width\":\"130\",\"height\":\"40\"}}):_c('span',[_vm._v(\"无\")])]),_vm._v(\" \"),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.initials))]),_vm._v(\" \"),_c('td',{staticClass:\"justify-center layout px-0\"},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.editBrand(props.item)}}},[_c('i',{staticClass:\"el-icon-edit\"})]),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.deleteBrand(props.item)}}},[_c('i',{staticClass:\"el-icon-delete\"})])],1)]}}])}),_vm._v(\" \"),_c('v-dialog',{attrs:{\"max-width\":\"500\",\"persistent\":\"\",\"scrollable\":\"\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dense\":\"\",\"dark\":\"\",\"color\":\"primary\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.isEdit ? '修改' : '新增')+\"行业\")]),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.closeWindow}},[_c('v-icon',[_vm._v(\"close\")])],1)],1),_vm._v(\" \"),_c('v-card-text',{staticClass:\"px-5\",staticStyle:{\"height\":\"400px\"}},[_c('brand-form',{attrs:{\"oldBrand\":_vm.oldBrand,\"isEdit\":_vm.isEdit},on:{\"close\":_vm.closeWindow}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79b7fd16\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/item/Brand.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79b7fd16\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Brand.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Brand.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Brand.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79b7fd16\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Brand.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79b7fd16\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/item/Brand.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}